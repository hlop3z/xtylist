var xtylist=function(t){"use strict";const e="xtylist__Layout",l=["xs","sm","md","lg"],s={left:preact.signal(!1),right:preact.signal(!1),"left-mini":preact.signal(!1),"right-mini":preact.signal(!1),overlay:preact.signal(!1)};function i(){return h("div",{"x-html":!0,class:[`${e}-Overlay`],"css-on":"open","css-is":s.overlay.value})}function o(t){const{clipTop:e,clipBottom:l,right:i,noSwipe:o}=xtyle.util.props(t),n=s[t.name],a=[i?"lr":"ll"],c={mini:t.mini,"lc-t":e,"lc-b":l,open:n.value};return t.elevation&&(i?a.push(`sl-${t.elevation}`):a.push(`sr-${t.elevation}`)),h("div",{"x-html":!0,...t,class:["aside","ld",c,...a,t.class],"css-is":n.value,"css-on":"open","x-swipe":({value:t})=>{o||(!i&&"left"===t&&(n.value=!1),i&&"right"===t&&(n.value=!1))}},t.children)}const n={App:function(t){const{slotHeader:s,slotFooter:o,slotLeft:n,slotRight:a,slotLeftMini:c,slotRightMini:r,clipLeft:u,clipRight:d,spaceY:v,spaceX:f}=xtyle.util.props(t),p=xtyle.device.is(...t.breakpoints||l);return h("div",{"x-html":!0,...t,class:[e,t.class]},h(i,null),s,h("main",{"x-html":!0,class:["lm",{"lc-t":!!s,"lc-b":!!o,"lc-l":!(!n||p||!u),"lc-r":!(!a||p||!d)}]},h("div",{"x-html":!0,class:["d-b","eh-100p",{[`px-${f}`]:!!f,[`py-${v}`]:!!v}]},t.children)),n,a,c,r,o)},Main:function(t){return h("div",{"x-html":!0,...t,class:["d-f df-col eh-100p",t.class]},t.children)},Header:function(t){const e=["d-f dy-ce dx-sb"];return t.elevation&&e.push(`sb-${t.elevation}`),h("div",{"x-html":!0,...t,class:["header","lt",...e,t.class]},t.children)},Footer:function(t){const e=["d-f dy-ce dx-sb"];return t.elevation&&e.push(`st-${t.elevation}`),h("footer",{"x-html":!0,...t,class:["footer","lb",...e,t.class]},t.children)},Left:t=>o({...t,name:"left"}),Right:t=>o({...t,name:"right",right:!0}),LeftMini:t=>o({...t,name:"left-mini",mini:!0}),RightMini:t=>o({...t,name:"right-mini",mini:!0,right:!0}),state:s,toggle(t,e){s[t].value=void 0!==e?e:!s[t].value}},a="xtylist__Card";function c(t){const{height:e,width:l}=t,{Header:s,Main:i,Footer:o,Left:n,Right:c}=xtyle.slotProps(t,["header","main","footer","left","right"]),r=[],x={},m=[];return t.children||(t["slot-header"]&&r.push(s(u)),t["slot-left"]&&m.push(n(v)),t["slot-main"]&&m.push(i(p)),t["slot-right"]&&m.push(c(f)),m.length>0&&r.push(h("div",{class:"card-body"},m)),t["slot-footer"]&&r.push(o(d))),e&&(x.height=e),l&&(x.width=l),h("div",{"x-html":!0,...t,class:[a,t.class],style:[x,t.style]},t.children?t.children:r)}function r(t){const e={};return t.themeColor&&(e["theme-color"]=t.themeColor),t.themeBorder&&(e["theme-border"]=t.themeBorder),t.themeText&&(e["theme-text"]=t.themeText),e}const u=xtyle.slot({},(t=>h("div",{"x-html":!0,...t,...r(t),class:[t.class,"card-header"],style:[{height:t.height},t.style]},t.children))),d=xtyle.slot({},(t=>h("div",{"x-html":!0,...t,...r(t),class:[t.class,"card-footer"],style:[{height:t.height},t.style]},t.children))),v=xtyle.slot({},(t=>h("div",{"x-html":!0,...t,...r(t),class:[t.class,"card-left"],style:[{width:t.width},t.style]},t.children))),f=xtyle.slot({},(t=>h("div",{"x-html":!0,...t,...r(t),class:[t.class,"card-right"],style:[{width:t.width},t.style]},t.children))),p=xtyle.slot({},(t=>h("div",{"x-html":!0,...t,...r(t),class:[t.class,"card-main"]},t.children))),x=preact.signal({});function m(t){const e=[],l={},{name:s,active:i,full:o,persistent:n,fxOn:a,fxOff:r,overlay:u}=xtyle.util.props(t);o&&e.push(`full-${o}`);let d=!1;i&&![null,void 0].includes(i.value)&&(d=i.value),s&&(d=g.isActive(s),!0!==n&&(l["x-click-outside"]=()=>{d&&(s?g.close(s,!!u):i.value&&(i.value=!1))}));return h("div",{"x-html":!0,name:null,class:["xtylist__Dialog",e],"css-is":d,"x-effect":{on:a||"animate__fadeInDown",off:r||"animate__fadeOutDown",speed:"faster"}},h(c,{...t,...l,name:void 0,fxOn:void 0,fxoff:void 0}))}const g={Display:m,state:x,keys:()=>Object.keys(x.value),open(t,e=!0){const l={...x.value};l[t]=!0,x.value=l,e&&xtyle.action("layout.open","overlay")},close(t,e=!0){const l={...x.value};l[t]=!1,x.value=l,e&&xtyle.action("layout.close","overlay")},toggle(t,e=!0){g.isActive(t)?g.close(t,e):g.open(t,e)},isActive:t=>!0===x.value[t]};function y(t,e=!1){const l=t.getBoundingClientRect(),s=l.left,i=Math.round(window.innerWidth-l.right),o=Math.round(window.innerWidth/2);return s<o&&i<o?!0===e?"center":"left":s<i?"left":"right"}function b(t,e){const l=e||{},s=function(t,e=!1){const l=t.getBoundingClientRect(),s=l.top,i=window.innerHeight-l.bottom,o=window.innerHeight/2;return s<o&&i<o?!0===e?"center":"top":s<i?"top":"bottom"}(t,l.y);return{x:y(t,l.x),y:s}}const _=200,k={left:"right",right:"left",top:"bottom",bottom:"top",center:"center"};function w(t,e,l){return t["axis-"+e]===l}function $(t,e){const l=function(t){const e=w(t,"x","center"),l=w(t,"y","center"),s=w(t,"x","left"),i=w(t,"x","right");return{"center-x":e,"center-y":l,top:w(t,"y","top"),bottom:w(t,"y","bottom"),left:s,right:i}}(t),s=["center-x","center-y","top","bottom","left","right"],i=s.filter((t=>!0===l[t]));return e.y&&(s.push("pb-"+t["space-y"]),s.push("pt-"+t["space-y"])),e.x&&(s.push("pl-"+t["space-x"]),s.push("pr-"+t["space-x"])),{keys:s,active:i}}async function A(t,e){if(t){const{left:l,top:s}=t.getBoundingClientRect();(l!==e.value.left||s!==e.value.top)&&(e.value={left:l,top:s})}}function C(t,e,l=!1){return`p${(l?k[t]:t).charAt(0)}-${e}`}function L(t,e,l=!1){return`s${(l?k[t]:t).charAt(0)}-${e}`}function M(t,e,l=!1){return{keys:[`sb-${e}`,`st-${e}`,`sl-${e}`,`sr-${e}`],active:L(t,e,l)}}const O="xtylist__Popover",{signal:T,useEffect:R,useSignal:B}=preact,D=T({});function I(t){const{name:e,active:l,persistent:s}=t,i={};t["axis-y"]||(t["axis-y"]="auto"),t["axis-x"]||(t["axis-x"]="auto");let o=!1;return l&&![null,void 0].includes(l.value)&&(o=l.value),e&&(o=F.isActive(e)),!0!==s&&(i["x-click-outside"]=()=>{o&&(e?F.close(e):l.value&&(l.value=!1))}),h(z,{...t,...i,"is-active":o})}function z(t){let e=null,l=null;const s=xtyle.util.props(t),{slot:i}=t,{isActive:o}=s,{axisX:n,axisY:a,fxOff:c,fxOn:r,elevationInverted:u,elevation:d,spaceX:v,spaceY:f}=s,p=function(t){const{axisX:e,axisY:l}=t;let s=!1,i=!1,o=!1;return"auto"===l&&(i=!0,o=!0),"auto"===e&&(s=!0,o=!0),{is:o,x:s,y:i}}(s),x="center"===a,m=B({left:0,top:0});if(p.is){const s=async()=>{const s=l?l.current:null;if(s){const i=s.firstChild,o=function(t,e,l=!1){const s=[],i=b(t,{x:!1,y:!1});return e.y&&s.push(k[i.y]),e.x&&s.push(l?k[i.x]:i.x),{axis:i,class:s}}(e.current,p,x),c=$(t,p);if(l.remove(...c.keys),l.add(...o.class),l.add(...c.active),p.y){const t=C(o.axis.y,f);l.add(t)}else{const t=C(a,f,!0);l.add(t)}if(p.x){const t=C(o.axis.x,v);l.add(t)}else{const t=C(n,v);l.add(t)}let r=null;x&&p.x?r=M(o.axis.x,d,u):p.y?r=M(o.axis.y,d,u):p.x&&!p.y&&(r=M(a,d,!u)),r&&(i.classList.remove(...r.keys),i.classList.add(r.active))}};R((async()=>{const t=e?e.current:null;await A(t,m);const l=setInterval((async()=>await A(t,m)),_);return()=>clearInterval(l)}),[e]),R(s,[m.value]),s()}else R((()=>{const t=l?l.current:null;if(t){const e=t.firstChild,s={x:C(n,v,x),y:C(a,f,!0)};l.add(s.x,s.y);let i=null;i=M(x?n:a,d,!u),i&&(e.classList.remove(...i.keys),e.classList.add(i.active))}}),[l]);const g={on:r||"animate__fadeIn",off:c||"animate__fadeOut",speed:"faster"},y=$(t,p);return h("div",{"x-html":!0,...t,"x-ref":t=>e=t,class:[O,t.parentClass]},t.children,h("div",{"x-html":!0,"x-ref":t=>l=t,class:["popover",y.active,t.class],"css-is":o,"x-effect":g},i?t.slot():""))}const F={state:D,keys:()=>Object.keys(D.value),open(t){const e={...D.value};e[t]=!0,D.value=e},close(t){const e={...D.value};e[t]=!1,D.value=e},toggle(t){const e={...D.value};e[t]=!e[t],D.value=e},isActive:t=>!0===D.value[t]},H={layout:{open:t=>n.toggle(t,!0),close:t=>n.toggle(t,!1),toggle:t=>n.toggle(t),keys:()=>["left","right","left-mini","right-mini","overlay"]},dialog:{open:t=>g.open(t.name,t.overlay),close:t=>g.close(t.name,t.overlay),toggle:t=>g.toggle(t.name,t.overlay),keys:()=>g.keys(),isActive:t=>g.isActive(t)},popover:{open:t=>F.open(t),close:t=>F.close(t),toggle:t=>F.toggle(t),keys:()=>F.keys(),isActive:t=>F.isActive(t)}};function S(t,e){t.class?t.class=[t.class,...e]:t.class=e}xtyle.util.inject("\n.cssfx__init { visibility: hidden;  }\n.cssfx__on { visibility: visible !important; pointer-events: auto; }\n.cssfx__off { pointer-events: none; }\n","xtyle-css-fx-animations");const X={shape(t,e){const{shape:l}=t.directives.custom,s=[[],["br-bl"],["br-tl"],["br-br"],["br-tr"],["br-bl","br-tl"],["br-bl","br-br"],["br-bl","br-tr"],["br-tl","br-br"],["br-tl","br-tr"],["br-br","br-tr"],["br-bl","br-tl","br-br"],["br-bl","br-tl","br-tr"],["br-bl","br-br","br-tr"],["br-tl","br-br","br-tr"],["br-bl","br-tl","br-br","br-tr"]];l&&s[l]&&S(e,s[l])},effect(t,e){let{effect:l}=t.directives.custom;const{css:s}=t.directives;if(l=l||{},Object.keys(l).length>0){const i=["animate__animated","cssfx__init"];if(s.on||(s.on=[]),s.off||(s.off=[]),l.on&&(s.on.push("cssfx__on"),s.on.push("animate__"+l.on.replace(/^animate__/,""))),l.off&&(s.off.push("cssfx__off"),s.off.push("animate__"+l.off.replace(/^animate__/,""))),l.delay&&i.push("animate__delay-"+l.delay+"s"),l.speed&&i.push("animate__"+l.speed),l.repeat){let t="";t=[1,2,3,"1","2","3"].includes(l.repeat)?"-"+l.repeat:l.repeat,i.push("animate__repeat"+t)}S(e,i),preact.useEffect((()=>{setTimeout((()=>{t.ref.remove("cssfx__init")}),2e3|l.startDelay)}),[])}}},{signal:Y}=preact,j={darkMode:Y(!1),isAuthenticated:Y(!1)};var P;P=j.darkMode,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(P.value=!0);const E="xtylist__Grid";function G(t){const{gapY:e,gapX:l}=xtyle.util.props(t),s=["row"];return e&&s.push("gy-"+e),l&&s.push("gx-"+l),h("div",{"x-html":!0,...t,class:[E,...s,t.class]},t.children)}function W(t){let{sm:e,md:l,lg:s,xl:i,cols:o}=t;o=o||12,e=e||o,l=l||e,s=s||l,i=i||s;const n=["col",`col-xl-${i} col-lg-${s} col-md-${l} col-sm-${e}`];return h("div",{"x-html":!0,...t,class:[E,...n,t.class]},t.children)}const q="xtylist__Toggle",{useSignal:J}=preact;function K(t){let{color:e}=t;const{size:l,dark:s,variant:i,active:o,fill:n,onInput:a,disabled:c,value:r,onClick:u}=xtyle.util.props(t);let d=!1;[void 0,null].includes(o)||(d=o);const v="radio"===i,f=r||J(d);e||s?!e&&s&&(e="light"):e="dark";const p={};return s?(p.color=f.value?e:"dark",p.text=f.value?"black":null):n?(p.color=f.value?e:"light",p.text=f.value?"white":null):p.text=f.value?e:null,h("label",{"x-html":!0,...t,"theme-color":p.color,"theme-text":p.text,"theme-border":f.value?e:null,class:[q,t.class,{"br-100p":v,radio:v,"is-small":"sm"===l,"is-large":"lg"===l}],"on-change":()=>{if(u)u();else if(!c){const t=!f.value;f.value=t,a&&a(t)}}},h("input",{type:"checkbox",class:"toggle",checked:f.value}),h("span",{"x-html":!0,"theme-text":p.text,class:["checkmark",{active:f.value}]},v?"•":"✓"))}function N(t){let{color:e}=t;const{size:l,dark:s,active:i,onInput:o,disabled:n,value:a,onClick:c}=xtyle.util.props(t);let r=!1;[void 0,null].includes(i)||(r=i);const u=a||J(r);e||s?!e&&s&&(e="light"):e="dark";const d={};return d.switch=s?u.value?e:"dark":u.value?e:null,h("div",{"x-html":!0,...t,class:[q+"Switch",t.class,{active:u.value,"is-small":"sm"===l,"is-large":"lg"===l}],"on-click":()=>{if(c)c();else if(!n){const t=!u.value;u.value=t,o&&o(t)}}},h("div",{class:["switch-box"]},h("div",{"x-html":!0,class:"box-fill","theme-color":d.switch}),h("div",{"x-html":!0,class:["switch",{"sl-6":!u.value,"sr-6":u.value}],"theme-color":d.switch}),h("input",{type:"checkbox",class:"checkbox",checked:u.value})))}const{useSignal:Q}=preact;return t.Button=function(t){const{size:e,disabled:l,dark:s,variant:i,stack:o,type:n}=t||{};let a,c,r,{color:u}=t||{};return u=u||"dark","outlined"===i?(a="color-bg-"+(s?"dark":"light"),c=`color-br-${u}`,r=`color-tx-${u}`):"fill"===i?(a=`color-bg-${u}`,c=`color-br-${u}`,r="color-tx-"+(s?"light":"dark")):(c="color-br-none",r=`color-tx-${u}`),h("button",{"x-html":!0,...t,attrs:{type:n||"button"},"x-ripple":!l,class:["xtylist__Button",t.class,"bd-a bw-1",r,{[c]:!(!c||!u),[a]:!(!a||!u),"e-p":!l,"e-ne":l,"is-disabled":l,"is-small":"sm"===e,"is-large":"lg"===e,"is-stack":o}]},t.children)},t.Card=c,t.Dialog=m,t.Divider=function(t){const{vertical:e,thick:l,shrink:s}=t;return h("div",{"x-html":!0,...t,class:["xtylist__Divider",t.class,{vertical:e,"md-width":1===l,"lg-width":2===l,"xl-width":3===l,"md-shrink":1===s,"lg-shrink":2===s,"xl-shrink":3===s}],"theme-border":t.color})},t.Fab=function(t){const{size:e,disabled:l,dark:s,variant:i}=t||{};let o,n,a,{color:c}=t||{};return c=c||"dark","outlined"===i?(o="color-bg-"+(s?"dark":"light"),n=`color-br-${c}`,a=`color-tx-${c}`):"fill"===i?(o=`color-bg-${c}`,n=`color-br-${c}`,a="color-tx-"+(s?"light":"dark")):(n="color-br-none",a=`color-tx-${c}`),h("button",{"x-html":!0,...t,attrs:{type:"button"},"x-ripple":!l,class:["xtylist__Fab",t.class,"bd-a bw-1",a,{[n]:!!c,[o]:!!c,"e-p":!l,"e-ne":l,"is-disabled":l,"is-small":"sm"===e,"is-large":"lg"===e}]},t.children)},t.Grid=function(t){return t.row?h(G,{...t}):h(W,{...t})},t.Layout=n,t.Popover=I,t.Toggle=function(t){return"switch"===t.variant?h(N,{...t}):h(K,{...t})},t.Toolbar=function(t){const{size:e}=t;return h("div",{"x-html":!0,...t,class:["xtylist__Toolbar",t.class,{"toolbar-small":"sm"===e,"toolbar-large":"lg"===e}]},t.children)},t.Tooltip=function(t){const e={parentClass:"xtylist__Tooltip"};if(!t.active){const t=Q(!1);e.active=t,e["x-hover"]=({value:e})=>{t.value=e}}return h(I,{...t,...e},t.children)},t.install=function(t,e){return{actions:H,directives:X,store:j}},t}({});
